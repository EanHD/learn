# Level 6: Loops

> **ðŸ“– LESSON NOTE:** This lesson file is **read-only** to prevent accidental edits. Your code goes in the **right window** (`Main.java` or similar). The lesson stays on the **left** for reference. Press `Ctrl+l` to switch to your code window, or `<Space>h` for help.

## Stage 1: Copying Code

### Today's Mission

Get ready for programming superpowers! Today you'll learn how to repeat actions efficiently using loops. Instead of writing the same code 100 times, you'll write it once and loop it!

---

### Learning Goals

- Master for loops for counting and iteration
- Understand while loops for condition-based repetition
- Learn do-while loops for at-least-once execution
- Practice with break and continue statements
- Create programs with repetitive tasks

---

### Your Task

**Copy the following code EXACTLY as shown below into `Main.java`**

```java
import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner input = new Scanner(System.in);

        System.out.println("=== LOOP MASTERY ===\n");

        // Example 1: Basic for loop
        System.out.println("=== FOR LOOP - Counting ===");
        for (int i = 1; i <= 5; i++) {
            System.out.println("Count: " + i);
        }

        // Example 2: For loop with different increments
        System.out.println("\n=== Counting by 2s ===");
        for (int i = 0; i <= 10; i += 2) {
            System.out.println(i);
        }

        // Example 3: Countdown
        System.out.println("\n=== Countdown ===");
        for (int i = 10; i >= 1; i--) {
            System.out.println(i);
        }
        System.out.println("Blastoff! ðŸš€");

        // Example 4: Multiplication table
        System.out.print("\n=== Multiplication Table ===\nEnter a number: ");
        int number = input.nextInt();
        for (int i = 1; i <= 10; i++) {
            System.out.println(number + " Ã— " + i + " = " + (number * i));
        }

        // Example 5: While loop
        System.out.println("\n=== WHILE LOOP - Guessing Game ===");
        int secretNumber = 7;
        int guess = 0;
        int attempts = 0;

        while (guess != secretNumber) {
            System.out.print("Guess a number between 1-10: ");
            guess = input.nextInt();
            attempts++;

            if (guess < secretNumber) {
                System.out.println("Too low! Try again.");
            } else if (guess > secretNumber) {
                System.out.println("Too high! Try again.");
            } else {
                System.out.println("Correct! You got it in " + attempts + " attempts!");
            }
        }

        // Example 6: Do-while loop (runs at least once)
        System.out.println("\n=== DO-WHILE LOOP - Menu System ===");
        int choice;
        do {
            System.out.println("\n--- Menu ---");
            System.out.println("1. Say Hello");
            System.out.println("2. Show Date");
            System.out.println("3. Random Number");
            System.out.println("4. Exit");
            System.out.print("Enter choice: ");
            choice = input.nextInt();

            switch (choice) {
                case 1:
                    System.out.println("Hello, Java Programmer!");
                    break;
                case 2:
                    System.out.println("Today is a great day to code!");
                    break;
                case 3:
                    int random = (int)(Math.random() * 100) + 1;
                    System.out.println("Random number: " + random);
                    break;
                case 4:
                    System.out.println("Goodbye!");
                    break;
                default:
                    System.out.println("Invalid choice!");
            }
        } while (choice != 4);

        // Example 7: Nested loops (multiplication table)
        System.out.println("\n=== NESTED LOOPS - Full Multiplication Table ===");
        for (int row = 1; row <= 5; row++) {
            for (int col = 1; col <= 5; col++) {
                System.out.printf("%4d", row * col);
            }
            System.out.println();
        }

        // Example 8: Break statement
        System.out.println("\n=== BREAK - Find First Multiple ===");
        System.out.print("Find first multiple of 7 after: ");
        int start = input.nextInt();

        for (int i = start; i <= start + 100; i++) {
            if (i % 7 == 0) {
                System.out.println("Found it! " + i + " is divisible by 7");
                break;  // Exit loop early
            }
        }

        // Example 9: Continue statement
        System.out.println("\n=== CONTINUE - Skip Multiples of 3 ===");
        for (int i = 1; i <= 20; i++) {
            if (i % 3 == 0) {
                continue;  // Skip to next iteration
            }
            System.out.print(i + " ");
        }
        System.out.println();

        // Example 10: Sum accumulator
        System.out.println("\n=== SUM CALCULATOR ===");
        System.out.print("How many numbers to sum? ");
        int count = input.nextInt();
        int sum = 0;

        for (int i = 1; i <= count; i++) {
            System.out.print("Enter number " + i + ": ");
            int num = input.nextInt();
            sum += num;
        }
        System.out.println("Total sum: " + sum);
        System.out.println("Average: " + (double)sum / count);

        // Example 11: Pattern printing
        System.out.println("\n=== PATTERN PRINTING ===");
        System.out.print("Enter height: ");
        int height = input.nextInt();

        for (int i = 1; i <= height; i++) {
            for (int j = 1; j <= i; j++) {
                System.out.print("* ");
            }
            System.out.println();
        }

        // Example 12: Factorial calculator
        System.out.println("\n=== FACTORIAL CALCULATOR ===");
        System.out.print("Enter a number: ");
        int n = input.nextInt();
        long factorial = 1;

        for (int i = 1; i <= n; i++) {
            factorial *= i;
        }
        System.out.println(n + "! = " + factorial);

        input.close();
    }
}
```

---

### How to Run

**Method 1 (Vim - Recommended):**
```
<Space>r
```

**Method 2 (Terminal):**
```bash
javac Main.java
java Main
```

**Follow the prompts** and see loops in action!

---

### Success Checklist

- [ ] Created/updated `Main.java`
- [ ] Copied all code correctly
- [ ] Compiled without errors
- [ ] Tested all loop examples
- [ ] Understood for, while, and do-while loops
- [ ] Saw how break and continue work

---

### What Just Happened?

You learned the power of repetition! Here's what makes loops essential:

1. **Efficiency**: Write code once, run it many times
2. **Flexibility**: Loop until a condition is met
3. **Control**: Break early or skip iterations
4. **Patterns**: Create complex outputs with nested loops

---

### Try This (Optional Challenges)

1. Create a Fibonacci sequence generator
2. Build a prime number checker
3. Make a password validator that loops until correct
4. Draw different patterns (pyramid, diamond, etc.)

---

## Quick Reference

### Loop Types

| Loop Type | When to Use | Syntax |
|-----------|-------------|--------|
| `for` | Know iteration count | `for (init; condition; update)` |
| `while` | Unknown iteration count | `while (condition)` |
| `do-while` | Run at least once | `do { } while (condition);` |

### Loop Control

| Statement | Effect |
|-----------|--------|
| `break` | Exit loop immediately |
| `continue` | Skip to next iteration |
| `return` | Exit entire method |

---

<div style="page-break-after: always;"></div>

---

## ANSWER KEY (No peeking until you've tried!)

### Code Breakdown

```java
for (int i = 1; i <= 5; i++) {
    System.out.println("Count: " + i);
}
```
- **`for`** = Loop keyword
- **`int i = 1`** = Initialization (runs once at start)
- **`i <= 5`** = Condition (checked before each iteration)
- **`i++`** = Update (runs after each iteration)
- **`{}`** = Loop body (code to repeat)

**How it works:**
1. Initialize: `i = 1`
2. Check: Is `i <= 5`? Yes â†’ run body
3. Update: `i++` (now i = 2)
4. Check: Is `i <= 5`? Yes â†’ run body
5. Repeat until condition is false

```java
while (guess != secretNumber) {
    // Code here runs while condition is true
}
```
- **`while`** = Loop keyword
- **`guess != secretNumber`** = Condition (checked before each iteration)
- **No initialization or update** = You manage these yourself
- **Use when** = You don't know how many iterations needed

```java
do {
    // Code here runs at least once
} while (choice != 4);
```
- **`do`** = Loop keyword
- **Body runs first** = Before checking condition
- **`while (choice != 4)`** = Condition checked after body
- **Use when** = Need to run at least once (like menus)

```java
if (i % 7 == 0) {
    break;  // Exit loop immediately
}
```
- **`break`** = Exits the innermost loop
- **All remaining iterations** = Skipped
- **Use when** = Found what you're looking for

```java
if (i % 3 == 0) {
    continue;  // Skip rest of this iteration
}
```
- **`continue`** = Jumps to next iteration
- **Remaining code in loop** = Skipped for this iteration
- **Loop continues** = Not terminated, just this iteration skipped

### For Loop Anatomy

```java
for (int i = 0; i < 10; i++) {
//   â”¬â”€â”€â”€â”€â”€â”¬â”€  â”¬â”€â”€â”¬â”€  â”¬â”€â”€â”¬
//   â”‚     â”‚   â”‚  â”‚   â”‚  â”‚
//   â”‚     â”‚   â”‚  â”‚   â”‚  â””â”€ Update: runs after each iteration
//   â”‚     â”‚   â”‚  â”‚   â””â”€â”€â”€â”€ Semicolon separator
//   â”‚     â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€ Condition: checked before each iteration
//   â”‚     â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Semicolon separator
//   â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Initialization: runs once at start
//   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Loop keyword
    System.out.println(i);
}
```

### Loop Variations

**Count up:**
```java
for (int i = 0; i < 10; i++)     // 0,1,2,3,4,5,6,7,8,9
for (int i = 1; i <= 10; i++)    // 1,2,3,4,5,6,7,8,9,10
```

**Count down:**
```java
for (int i = 10; i > 0; i--)     // 10,9,8,7,6,5,4,3,2,1
for (int i = 10; i >= 1; i--)    // 10,9,8,7,6,5,4,3,2,1
```

**Custom increment:**
```java
for (int i = 0; i < 20; i += 2)  // 0,2,4,6,8,10,12,14,16,18
for (int i = 0; i < 50; i += 5)  // 0,5,10,15,20,25,30,35,40,45
```

**Infinite loop:**
```java
for (;;) {  // No initialization, condition, or update
    // Runs forever unless break is used
}

while (true) {
    // Also runs forever
}
```

### Nested Loops

```java
for (int row = 1; row <= 3; row++) {      // Outer loop: rows
    for (int col = 1; col <= 4; col++) {  // Inner loop: columns
        System.out.print("*");
    }
    System.out.println();  // New line after each row
}
```

**Output:**
```
****
****
****
```

**How it works:**
- Outer loop runs 3 times (3 rows)
- For each outer iteration, inner loop runs 4 times (4 columns)
- Total iterations: 3 Ã— 4 = 12

### Common Loop Patterns

**1. Sum/Average:**
```java
int sum = 0;
for (int i = 1; i <= 10; i++) {
    sum += i;
}
double average = (double)sum / 10;
```

**2. Find maximum:**
```java
int max = array[0];
for (int i = 1; i < array.length; i++) {
    if (array[i] > max) {
        max = array[i];
    }
}
```

**3. Count occurrences:**
```java
int count = 0;
for (int i = 0; i < length; i++) {
    if (condition) {
        count++;
    }
}
```

**4. Search:**
```java
boolean found = false;
for (int i = 0; i < array.length; i++) {
    if (array[i] == target) {
        found = true;
        break;
    }
}
```

### Common Errors & Solutions

| Error | Cause | Solution |
|-------|-------|----------|
| `Infinite loop` | Condition never becomes false | Check loop condition and update |
| `Off-by-one error` | Wrong starting/ending value | Check `<` vs `<=`, starting index |
| `Variable not in scope` | Using loop variable outside loop | Declare variable before loop if needed |
| `ConcurrentModificationException` | Modifying collection while looping | Use Iterator or loop backwards |

### Loop Performance

**For vs While:** Performance is identical! Choose based on clarity:
- **Use for**: When you know iteration count
- **Use while**: When condition-based

**Optimization tips:**
```java
// SLOW: Recalculates length every iteration
for (int i = 0; i < array.length; i++) { }

// FAST: Calculates length once
int len = array.length;
for (int i = 0; i < len; i++) { }

// FASTEST: Enhanced for loop (Java 5+)
for (int value : array) { }
```

### Enhanced For Loop (For-Each)

```java
int[] numbers = {1, 2, 3, 4, 5};

// Traditional for loop:
for (int i = 0; i < numbers.length; i++) {
    System.out.println(numbers[i]);
}

// Enhanced for loop (simpler!):
for (int number : numbers) {
    System.out.println(number);
}
```

**Advantages:**
- Cleaner syntax
- No index management
- No off-by-one errors

**Limitations:**
- Can't modify array elements
- Can't access index
- Can't iterate backwards

### Bonus Knowledge

- **Loop Origin**: The word "loop" comes from early programming where you'd literally loop back
- **Assembly Language**: All loops compile to conditional jumps and labels
- **Loop Unrolling**: Compilers sometimes "unroll" small loops for performance
- **Big O Notation**: Single loop = O(n), nested loop = O(nÂ²)

### Real-World Applications

Loops are fundamental to:
1. **Processing Data**: Reading files line by line
2. **Games**: Game loop running 60 times per second
3. **Animations**: Drawing frames repeatedly
4. **Sorting**: Bubble sort, selection sort algorithms
5. **Searching**: Linear search through data
6. **Validation**: Retry until valid input

### Advanced Challenge (For the Brave!)

Create a program that:
1. Generates 10 random numbers
2. Finds the largest and smallest
3. Calculates the average
4. Counts how many are even
5. Displays all numbers in reverse order

**Bonus:** Use only loops - no arrays!

---

**Incredible! You've mastered loops in Java!**

*Next up: Organizing code with functions/methods!*
